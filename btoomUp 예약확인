public void register(int patientId, int doctorId, String appDate, String situation) {
    // 1. 해당 의사가 같은 시간에 예약이 있는지 확인하는 쿼리
    String checkSql = "SELECT COUNT(*) FROM appointments WHERE doctor_id = ? AND app_date = ?";
    // 2. 예약 등록 쿼리
    String insertSql = "INSERT INTO appointments (patient_id, doctor_id, app_date, situation) VALUES (?, ?, ?, ?)";

    try (Connection conn = DBConfig.getConnection()) {
        
        // [중복 확인]
        var pstmtCheck = conn.prepareStatement(checkSql);
        pstmtCheck.setInt(1, doctorId);
        pstmtCheck.setString(2, appDate); // '2023-10-25 14:30:00' 형식
        var rs = pstmtCheck.executeQuery();
        
        if (rs.next() && rs.getInt(1) > 0) {
            System.out.println("❌ 예약 실패: 해당 의사는 이미 이 시간에 예약이 있습니다.");
            return;
        }

        // [데이터 삽입]
        var pstmtInsert = conn.prepareStatement(insertSql);
        pstmtInsert.setInt(1, patientId);
        pstmtInsert.setInt(2, doctorId);
        pstmtInsert.setString(3, appDate);
        pstmtInsert.setString(4, situation); // 예: "진료대기", "예약완료" 등
        
        pstmtInsert.executeUpdate();
        System.out.println("✅ " + appDate + " 예약이 정상 등록되었습니다.");

    } catch (Exception e) {
        System.out.println("❌ 등록 오류: " + e.getMessage());
    }
}
